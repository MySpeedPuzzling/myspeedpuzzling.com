{% extends 'base.html.twig' %}

{% block title %}{{ 'marketplace.title'|trans }}{% endblock %}
{% block meta_description %}{{ 'marketplace.meta.description'|trans }}{% endblock %}

{% block content %}
    <div class="d-flex align-items-center mb-3">
        <h1 class="h3 mb-0">
            <i class="bi bi-shop me-2"></i>{{ 'marketplace.title'|trans }}
        </h1>
        <a href="{{ path('marketplace_how_it_works') }}" class="btn btn-outline-secondary btn-sm ms-2 py-0 px-2 fs-xs">
            <i class="bi bi-question-circle me-1"></i>{{ 'marketplace.how_it_works_button'|trans }}
        </a>
    </div>

    {% if not disclaimer_dismissed %}
        <div class="alert alert-warning small mb-3 d-flex align-items-start">
            <div class="flex-grow-1">
                <i class="bi bi-exclamation-triangle me-1"></i>
                {{ 'marketplace.disclaimer'|trans }}
            </div>
            {% if logged_user.profile is not null %}
                <form action="{{ path('dismiss_hint') }}" method="POST" data-turbo="true" class="ms-2 flex-shrink-0">
                    <input type="hidden" name="type" value="marketplace_disclaimer">
                    <button type="submit" class="btn-close" aria-label="Close" onclick="this.closest('.alert').style.display='none'"></button>
                </form>
            {% endif %}
        </div>
    {% endif %}

    <twig:MarketplaceListing />
{% endblock %}
